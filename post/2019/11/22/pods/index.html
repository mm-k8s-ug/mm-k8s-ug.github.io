<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  	<meta property="og:title" content=" pods &middot;  Myanmar Kubernetes User Group" />
  	<meta property="og:site_name" content="Myanmar Kubernetes User Group" />
  	<meta property="og:url" content="https://mm-k8s-ug.github.io/post/2019/11/22/pods/" />
    
    
  	<meta property="og:type" content="article" />

    <meta property="og:article:published_time" content="2019-11-22T00:00:00Z" />

    
    

  <title>
     pods &middot;  Myanmar Kubernetes User Group
  </title>

    <meta name="description" content="this is my description" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://mm-k8s-ug.github.io/images/favicon.ico">
	  <link rel="apple-touch-icon" href="https://mm-k8s-ug.github.io/images/apple-touch-icon.png" />
    
    <link rel="stylesheet" type="text/css" href="https://mm-k8s-ug.github.io/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400|Inconsolata" />


    
      
          <link href="https://mm-k8s-ug.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Myanmar Kubernetes User Group" />
      
      
    
    <meta name="generator" content="Hugo 0.62.0-DEV" />

    <link rel="canonical" href="https://mm-k8s-ug.github.io/post/2019/11/22/pods/" />

     
</head>
<body class="nav-closed">
<div id="particles-js"></div>
  


 <div class="site-wrapper">



<header class="main-header " style="background-image: url(https://mm-k8s-ug.github.io/image/user.png)">

    <nav class="main-nav overlay clearfix">
        
        
    </nav>
<div class="vertical">
        <div class="main-header-content inner">
            <h1 class="page-title">
              <a class="btn-bootstrap-2" href="#content">Myanmar Kubernetes User Group</a>
          </h1>
          <h2 class="page-description">this is my description</h2>
        </div>
</div>
    <a class="scroll-down icon-arrow-left" href="#content"><span class="hidden">Scroll Down</span></a>
</header>

  <main id="content" class="content" role="main">


  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">pods</h1>
        <section class="post-meta">
        
	<time class="post-date" datetime="2019-11-22">
            2019-11-22
          </time>
        
         
        </section>
    </header>

    <section class="post-content">
      <p><img src="https://raw.githubusercontent.com/mm-k8s-ug/mm-k8s-ug.github.io/master/images/pods0.png" alt="pods"></p>
<!-- raw HTML omitted -->
<p>Pod ဆိုသည်မှာ kubernetes cluster တွင် အသေးငယ်ဆုံးသော deployable units ဖြစ်ပါတယ်။ kubernetes မှာ container တစ်ခုချင်းစီ deploy မလုပ်ဘဲ pod အနေနဲ့သာလျှင် operate လုပ်တယ် deploy လုပ်ကြပါတယ်။ ပြီတော့ pod သည် တစ်ခု၊ တစ်ခုထက် ပိုတဲ့ containers တွေ တနေရာထဲမှာ စုပေါင်းထားတဲ့ အုပ်စု(co-located group လိုမျိုး) တခု ဖြစ်ပြီး kuberntes ရဲ့ basic အကျဆုံး object လဲ ဖြစ်တယ်။ pod တစ်ခုထဲမှာ တစ်ခု သို့မဟုတ် တခုထက် ပိုတဲ့ containers တွေ ပါဝင်နိုင်ပါတယ်။ container တခု ထက် ပိုပါဝင်တဲ့ pod တွေကတော့ kubernetes cluster ရဲ့ နှစ်ခု သို့မဟုတ် နှစ်ခုထက်ပိုတဲ့ node တွေ အပေါ်မှာ ဘယ်တော့မှ မတည်ဆောက်ကြပါဘူး။ pod တွေ ဟာ သီးသန့် ip, hostname, processes အစ ရှိတာတွေ ပါဝင်တဲ့ သီခြား logical machine တွေလို ဖြစ်ပါတယ်။</p>
<p><img src="https://raw.githubusercontent.com/mm-k8s-ug/mm-k8s-ug.github.io/master/images/pods1.jpg" alt="pods1"></p>
<p>pod တစ်ခုထဲမှာ ရှိတဲ့ တစ်ခု ထက်ပိုတဲ့ container (multiple container) တွေ ကတော့ ခုနက ပြောခဲ့တဲ့ တူညီတဲ့ logical machine တစ်ခု ထဲမှာ running လုပ်နေတဲ့ ပုံစံ နဲ့ တူပါတယ်။ ပြောချင်တာကတော့ pod တွေဆိုတာ ကျွန်တော်တို့ သုံးနေတဲ့ vm လိုဘဲ ဒါပေမဲ့ သူက kubernetes cluster ထဲမှာ အသေးဆုံး units တွေဘဲ။ pod တွေ တစ်ခု တစ်ခုထက် ပိုတဲ့  container တွေ ပါဝင်နိုင်ပြီး network/storage စတာတွေကို တော့ share သုံးကြပါတယ်။ ဒီနေ ရာ မှာ စဉ်စားစရာ မေးခွန်းတွေ ရှိပါတယ်။ ဘာကြောင့် ကျွန်တော် တို့က pod တွေကို သုံးဖို့ လိုအပ်တာလဲ ? ဘာကြောင့် containers တွေကို တိုက်ရိုက် အသုံး မပြုနိုင်တာလဲ ? ဘာဖြစ်လို့ ကျွန်တော်တို့က multiple containers တွေကို အတူတကွ run ဖို့ လိုအပ်တာလဲ ? ပြီတော့ process တွေ အာလုံးကို single container ထဲမှာ ထည့် run လို့ရနိုင်ပါသလား ? ဟုတ်ကဲ့ ရနိုင်ပါတယ်။ တချို့ multiple processes ပါဝင်တဲ့ application တစ်ခုက IPC(Inter-Process Communication) မှ တဆင့် သို့မဟုတ် local stored file တွေက နေ တဆင့် processes တွေက ဆက်သွယ်ကြပါတယ်။ အဲလို application မျိုးကို vm ထဲမှာ run ထား အဆင်ပြေနိုင်ပါတယ်။ ဒါပေမဲ့ kubernetes က processes တွေကို containers တွေ ထဲမှာဘဲ run ခိုင်ပြီး container တခုက isolated machine တခုလို ပါဘဲ။ ဒါကြောင့် multiple processes တွေကို single container ထဲမှာ run ဖို့ makes sense ဖြစ်ပါတယ်။ ဒါပေမဲ့ အဲလို run တာဟာ မလုပ်သင့်ပါဘူး။     process တစ်ခု အတွက် container တစ်ခု သာလျှင် အသုံးပြုဖို့ containers တွေက Design လုပ်ထားတာ ဖြစ်ပါတယ်။ multiple processes တွေကို single container တစ်ခုထဲမှာ run ခဲ့မယ်ဆိုရင် အဲဒီ processes တွေ အကုန်လုံး ကောင်းမွန်းစွာ running ဖြစ်နေဖို့ ပိုပြီး တာဝန်ယူရပါမယ် ပြီတော့ ပိုပြီး manage လုပ်ရတာ၊ processes တွေရဲ့ logs တွေ ကြည့်ရတာ၊ single process ကို  restart လုပ်ချင်တာမျိုး၊ အစရှိတာတွေ ပိုပြီး ခက်သွားပါမယ်။ ဒါကြောင့် မလို multiple process တွေကို single container ထဲ run တာ အားမပေးပါဘူး။ ဒါဆိုရင် ကျွန်တော်တို့က အခုလို multiple process တွေကို containers တွေထဲမှာ ခွဲ သုံးမယ်ဆိုရင် containers တွေကို bind ဖို့၊ အတူတကွ single unit အနေနဲ့ manage လုပ်ဖို့ ဒီထက် ကောင်းမွန်းတဲ့ higher-level ပုံစံ တခု လိုအပ်လာပါဘီ။ ဒါကတော့ Pod ပါဘဲ၊ Pod ကို လိုအပ်လာရတဲ့ အကြောင်းပါဘဲ။ Pod တစ်ခုရဲ့ containers တွေကတော့ သက်ဆိုင် ဆက်နွယ်တဲ့ processes တွေကို အနီးကပ် အတူတကွ run ဖို့ရယ် running ဖြစ်နေတဲ့ container တခုချင်းစီး အတွက် မတူညီတဲ့ environment မျိုးကို ထောက်ပံ ပေးပြီး တချို့ အရာတွေကိုတော့ isolate လုပ်ပေးထားပါတယ်။ Pod တစ်ခုထဲမှာ ရှိတဲ့ containers အာလုံးက တူညီတဲ့ Network, UTS namespaces နဲ့ IPC တွေပေါ်မှာ run ကြပါတယ်။ IPC အပေါ်ကနေလဲ တစ်ခုနဲ့ တခု communicate လုပ်နိုင်ပါတယ်။ ပြီတော့ အဲ pod တခု ထဲမှာ ရှိတဲ့ container အားလုံးက တူညီတဲ့ hostname နဲ့ network interfaces တွေကိုလဲ share သုံးကြပါတယ်။ PID တွေတောင် မှ share ပြီး အသုံးပြုနိုင်ကြပါတယ် ဒါပေမဲ့ ဒီ feature ကတော့ cluster ရဲ့ default မှာ မပါဝင်ပါဘူး သီးသန့် enable လုပ်ပေးရမှာ ဖြစ်ပါတယ်။   Pod တစ်ခု ရဲ့ containers တွေရဲ့ filesystem တွေကတော့ container တခုနဲ့ တခု fully isolate ဖြစ်ပါတယ် ဘာလို့လဲ ဆိုတော့ containers တွေရဲ့ filesystem တွေက container images တွေဆီက လာတာမို့ပါ။ ဒါပေမဲ့ တချို့ file တွေ directory တွေကို container တစ်ခုနဲ့ တစ်ခု အထဲမှာ တူညီအောင် သို့မဟုတ် share ဖို့အတွက် ဖြစ်စေ kubernetes ရဲ့ volume ကို အသုံးပြုပြီး mount နိုင်ပါတယ်။ volume အကြောင်းက တော့ နောက်ပိုင် အားရင် ဆက်ရေးပေးပါ့မယ်။     pod တစ်ခုထဲမှာ ရှိတဲ့ containers အားလုံးကတော့ တူညီတဲ့ network namespace အပေါ်မှာ run ကြပြီး တူညီတဲ့ IP address and port space တွေကို share သုံးကြပါတယ်။ ဒါကြောင့် မလို့ တူညီတဲ့ pod တခုထဲမှာ ရှိတဲ့ containers တွေက port conflict မဖြစ်စေရန် တစ်ခုနဲ့ တစ်ခု တူညီတဲ့ port ကို  binding မလုပ်ဖို့ သတိထားဖို့လိုအပ်ပါတယ်။ မတူညီတဲ့ pod တွေကတော့ ဘယ်တော့မှ port conflict မဖြစ်နိုင်ပါဘူး။ ဘာကြောင့်လဲ ဆိုတော့ pod တခုချင်းစီးက သီးသန့် port space ရှိနေလို့ပါဘဲ။ နောက်ပြီး Pod တစ်ခုထဲမှာ ရှိတဲ့ containers အားလုံးမှာ တူညီတဲ့ loopback network interface ရှိပြီး container တစ်ခုကနေ တခြား container တစ်ခုကို localhost ကနေ တဆင့် communicate ပြုလုပ်နိုင်ပါတယ်။ ဒါကတော့ kubernetes ကို အခုမှ စ လေ့ လာဖို့ အတွက် Pod အကြောင်း သိသင့် သလောက် အကျဉ်းချုပ် ဖြစ်ပါတယ်။</p>
<pre><code>Reference: - https://kubernetes.io/docs/concepts/workloads/pods/pod/
           - kubernetes in action book
</code></pre>
    </section>


  <footer class="post-footer">


    

    <section class="author">

  <p></p>
  

</section>


    

    

  </footer>
</article>

</main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Myanmar Kubernetes User Group</a> All rights reserved - 2019</section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="https://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/syui/hugo-theme-air">hugo-theme-air</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="https://mm-k8s-ug.github.io/js/jquery.js"></script>
    <script type="text/javascript" src="https://mm-k8s-ug.github.io/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://mm-k8s-ug.github.io/js/index.js"></script>
    <script src="https://mm-k8s-ug.github.io/js/particles.min.js"></script>
    <script src="https://mm-k8s-ug.github.io/js/particles.js"></script>  

</body>
</html>

